# Udemy Subtitle Helper

Udemy 강의 영상의 자막을 고품질로 번역해주는 크롬 익스텐션입니다.

## 주요 기능

- 📺 대본(Transcript)의 자막을 영상 캡션 영역에 실시간 표시
- 🌐 **세 가지 번역 방식**:
  - **크롬 내장 번역** - 무료, API 키 불필요
  - **DeepSeek API** - 저렴하고 빠른 AI 번역
  - **Google Gemini API** - Google의 최신 AI 번역 (권장)
- 🔗 문장 분리 문제 자동 해결 (나뉜 문장을 하나로 병합하여 번역)
- 🎯 원본 자막 함께 표시 가능
- 🌍 다국어 지원 (한국어, 영어, 일본어, 중국어, 스페인어, 프랑스어)
- ⚙️ 영상 컨트롤러에서 원본 자막 표시/위치 설정 가능

## 번역 방식 비교

| 방식 | 장점 | 단점 | 추천 |
|------|------|------|------|
| **크롬 내장 번역** | • 무료<br>• 설정 간단 | • 번역 품질 낮음<br>• 문맥 이해 부족 | 무료 사용자 |
| **DeepSeek API** | • 저렴한 가격<br>• 빠른 속도<br>• 문장 병합 지원 | • API 키 필요<br>• 유료 | 가성비 중시 |
| **Google Gemini API** | • 고품질 번역<br>• 문맥 이해 우수<br>• 무료 티어 제공 | • API 키 필요 | ⭐ 권장 |

## 설치 방법

### 1단계: 프로젝트 빌드
```bash
# 의존성 설치
npm install

# 빌드
npm run build
```

### 2단계: 크롬에 설치
1. 크롬 브라우저에서 `chrome://extensions` 접속
2. 우측 상단의 **개발자 모드** 활성화
3. **압축해제된 확장 프로그램을 로드합니다** 클릭
4. 프로젝트의 `dist/` 폴더 선택

✅ 설치 완료!

## 사용 방법

### 방법 1: 크롬 내장 번역 (무료)

1. Udemy 강의 페이지 접속
2. 대본(Transcript) 패널 열기 (익스텐션이 자동으로 시도)
3. 페이지 우클릭 → **"한국어로 번역"** 선택
4. 익스텐션 팝업 열기
   - ✅ "번역 기능 활성화" ON
   - 번역 방식: **크롬 내장 번역**
   - 원본 자막 표시 설정
   - **저장** (페이지 자동 새로고침)
5. 영상 재생 → 번역된 자막이 캡션에 표시됩니다

---

### 방법 2: Google Gemini API (권장) ⭐

#### Gemini API 키 발급
1. [Google AI Studio](https://aistudio.google.com/app/apikey) 접속
2. Google 계정으로 로그인
3. **Get API Key** 클릭하여 API 키 발급
4. API 키 복사

> 💡 **무료 티어**: Gemini API는 무료 사용량을 제공합니다!

#### 익스텐션 설정
1. Udemy 강의 페이지 접속
2. 익스텐션 팝업 열기
3. 설정:
   - ✅ "번역 기능 활성화" ON
   - 번역 방식: **Google Gemini API**
   - 🔑 API 키 입력
   - 🌐 번역 언어 선택 (한국어 등)
   - 원본 자막 표시 설정
   - **저장** (페이지 자동 새로고침)
4. 대본이 자동으로 번역되며 실시간으로 반영됩니다
5. 영상 재생 → 고품질 번역 자막이 표시됩니다

---

### 방법 3: DeepSeek API

#### DeepSeek API 키 발급
1. [DeepSeek Platform](https://platform.deepseek.com) 접속
2. 회원가입 및 로그인
3. API 키 발급 (크레딧 충전 필요)

#### 익스텐션 설정
1. Udemy 강의 페이지 접속
2. 익스텐션 팝업 열기
3. 설정:
   - ✅ "번역 기능 활성화" ON
   - 번역 방식: **DeepSeek API**
   - 🔑 API 키 입력
   - 🌐 번역 언어 선택 (한국어 등)
   - 원본 자막 표시 설정
   - **저장** (페이지 자동 새로고침)
4. 대본이 자동으로 번역되며 실시간으로 반영됩니다
5. 영상 재생 → 번역 자막이 표시됩니다

> 💡 **Tip**: 번역 중에도 바로 영상을 재생할 수 있습니다. 아직 번역되지 않은 자막은 원본으로 표시되고, 번역이 완료되면 자동으로 업데이트됩니다.

## 영상 컨트롤러에서 설정 변경

영상을 보는 중에 **페이지 새로고침 없이** 자막 설정을 변경할 수 있습니다:

1. 영상 하단의 컨트롤 바에서 **자막 설정** 버튼 클릭 (톱니바퀴 옆)
2. 다음 설정을 즉시 변경 가능:
   - 원본 자막 표시/숨김
   - 원본 자막 위치 (번역 위/아래)

> 💡 설정 변경 시 페이지 리로드가 필요없어 번역 API를 다시 호출하지 않습니다!

## 설정 항목

익스텐션 팝업에서 다음 설정을 변경할 수 있습니다:

| 설정 | 설명 |
|------|------|
| 번역 기능 활성화 | 익스텐션 ON/OFF |
| 번역 방식 | 크롬 내장 번역 / DeepSeek API / Google Gemini API |
| DeepSeek API 키 | DeepSeek 사용 시 필수 |
| Google Gemini API 키 | Gemini 사용 시 필수 |
| 번역 언어 | 한국어, 영어, 일본어, 중국어, 스페인어, 프랑스어 |
| 원본 자막 표시 | 번역과 함께 원본도 표시 |
| 원본 자막 위치 | 번역 위 / 번역 아래 |

## 특별 기능: 문장 병합

AI 번역(DeepSeek, Gemini) 사용 시, 여러 자막 컨테이너로 나뉜 문장을 자동으로 병합하여 번역합니다.

**예시:**
```
[원본]
자막 1: "I love Tom and"
자막 2: "Lilly."

[번역 결과]
자막 1: "나는 Tom과 Lilly를 사랑합니다."
자막 2: "나는 Tom과 Lilly를 사랑합니다."
```

병합 감지 패턴:
- 문장 종결어 없이 끝나는 경우
- "and", "or", "the", "to" 등으로 끝나는 경우
- 소문자로 시작하는 자막

## 문제 해결

### ❌ AI 번역이 안 될 때
- API 키 확인
- API 사용량/크레딧 확인
  - Gemini: [Google AI Studio](https://aistudio.google.com/app/apikey)
  - DeepSeek: [DeepSeek Platform](https://platform.deepseek.com)
- 브라우저 콘솔(F12)에서 오류 확인

### ❌ 번역이 표시되지 않을 때
- 대본(Transcript) 패널이 열려있는지 확인
- 익스텐션이 활성화되어 있는지 확인
- 페이지 새로고침

### ❌ 원본 자막이 안 보일 때
- 크롬 내장 번역: 원본 자막 기능이 지원되지 않음
- AI 번역(DeepSeek, Gemini): "원본 자막 표시" 설정 확인

## 참고 사항

- API 키는 Chrome 동기화 저장소에 안전하게 저장됩니다
- 번역 중에도 영상을 바로 재생할 수 있습니다
- 영상 컨트롤러에서 실시간으로 자막 설정 변경 가능

### API 비용 참고
- **Google Gemini**: 무료 티어 제공
- **DeepSeek**: 매우 저렴 (GPT 대비 1/10 수준)

## 라이선스
MIT
